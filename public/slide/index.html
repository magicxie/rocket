<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>H5</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="qr-btn"><img src="/images/qr.png"></div>
	<div id="impress">
		<div id="first" class="step slide">
	        <img src="css/images/h5.jpg" alt="">
	        <q>深入浅出H5的应用场景</q>
	    </div>

	    <div class="step slide">
	        <h2>功能列表 - html5</h2>
	        <h3>语义化标签</h3>
	        <img src="css/images/layout.jpg" alt="">
	        <h3>功能标签</h3>
	        <ul class="tag-list">
	        	<li>&lt;audio&gt;</li>
	        	<li>&lt;canvas&gt;</li>
	        	<li>&lt;video&gt;</li>
	        </ul>
	    </div>
	    <div class="step slide">
	        <h2>功能列表 - <span class="font-green">css3</span></h2>
	        <h3>选择器</h3>
	        <h3>@Font-face web font文字渲染：实现<a href="https://icomoon.io/app/#/select">图标字体</a></h3>
	        <h3>多列布局</h3>
			<h3>边框和颜色、圆角</h3>
	        <h3>渐变效果</h3>
	        <h3>阴影和反射</h3>
	        <h3>背景效果</h3>
	        <h3>盒子模型</h3>
            <h3>响应式布局</h3>
	        <h3>Transitions, Transforms 和 Animation</h3>
	        <img src="css/images/css-a.png" alt="">
	    </div>
	    <div class="step slide">
	        <h2>功能列表 - <span class="font-green">javascript</span></h2>
	        <ol>
                <li>WebSocket：实时通信&长连接</li>
                <li>WebGL：3d效果</li>
                <li>Local storage和web sql：离线缓存</li>
                <li>File Api:读写本地文件</li>
                <li>js sdk：获得原生应用的能力</li>
	        </ol>
	    </div>
		<div class="step slide">
			<h2>photowall</h2>


			<iframe src="http://cloud.eggcanfly.net:3002" class="demo-frame" frameborder="0" scrolling="no"></iframe>
			<div class="p-info">
				<p><!-- <strike>离线存储</strike> or  -->本地存储</p>
				<p>图片处理</p>
				<p>实时通信</p>
				<p>响应式布局</p>
			</div>
			<iframe src="http://cloud.eggcanfly.net:3002/user" class="demo-frame" frameborder="0" scrolling="no"></iframe>
		</div>
	    <div class="step slide">
	        <h2>photowall - <span class="font-green">离线存储manifest</span></h2>
	        <img src="css/images/cache.png" alt="" class="auto-img">
	    </div>
	    <div class="step slide">
	        <h2>photowall - <span class="font-green">本地存储localStorage</span></h2>
	        <img src="css/images/localStorage.png" alt="" class="auto-img">
	    </div>
            <div class="step slide">
                <h2>年会小火箭-<span class="font-green">实时通信+css3动画+自定义字体</span></h2>
		<a id="reloadRocketFrame" style="cursor: pointer">刷新</a>
            <iframe style="width: 100%;height: 85%;" id="rocketFrame" src="http://cloud.eggcanfly.net:3000/counter.html"></iframe>
	    </div>
	    <div class="step slide">
	        <h2>图表应用<span class="font-green">画图+3D效果</span></h2>
		 <a id="to2D" style="cursor: pointer" class="chart" data-href="http://echarts.baidu.com/doc/example/map15.html">2D</a>
		 <a id="to3D" style="cursor: pointer" class="chart" data-href="http://echarts.baidu.com/x/doc/example/map3d_population3.html">3D</a>
		<iframe  style="width: 100%;height: 85%;" id="chartFrame" src="http://echarts.baidu.com/doc/example/map15.html"></iframe>
	    </div>
	    <div class="step slide zhongli">
			<h2>重力感应- <span class="font-green">年会摇一摇拜年</span></h2>
			<iframe src="http://hd.3g.qq.com/g/bainian/index.html" class="demo-frame" frameborder="0" scrolling="no"></iframe>
			<div style="float:right;width: 50%;">可以获取手机所处的角度、方位和朝向。</div>
		</div>
		<div class="step slide zhongli">
			<h2>重力感应- <span class="font-green">飞车游戏</span></h2>
			<iframe src="http://ttfc.qq.com/comm-htdocs/milo_mobile/login.html?s_url=http%3A%2F%2Fttfc.qq.com%2Fact%2Fa20140717mini%2Fgame.html&logo=" class="demo-frame" frameborder="0" scrolling="no"></iframe>
			<div style="float:right;width: 50%;">可以获取手机运动状态下的运动加速度等数据。</div>
		</div>
	    <div class="step slide">
			<h2>打飞机双人版</h2>
			<iframe src="http://philgong.kf0309.3g.qq.com/g/imgclean/dafeiji/index.jsp" class="demo-frame" frameborder="0" scrolling="no"></iframe>
			<div style="float:right;width: 50%;">
				画布:处理图像,检测两个不规则图形之间的碰撞<br />
				实时通信:当飞机位置发生改变或者死亡实时通知另外一名玩家
				<br/>
				<img style="display: block;width: 100%;" src="css/images/weixinhao.png" />　　　
			</div>
		</div>

	    <div class="step slide">
			<h2>刮刮卡<span class="font-green">画布 + 图像处理</span></h2>
			<iframe src="http://www.liveapp.cn/auto/index/39049?channel=1&weixin.qq.com=#wechat_webview_type=1" class="demo-frame" frameborder="0" scrolling="no"></iframe>
			<div style="float:right;width: 50%;">检测用户手指触摸屏幕图像位置的像素透明度设成0</div>
		</div>
		<div class="step slide">
			<h2>更多游戏效果展示</h2>
			<img src="css/images/tafang.png" />
			<img src="css/images/xuanzhuanbaojian.png" />
		</div>
		<div class="step slide chat chat-1">
			<h2>即时聊天室</h2>
			<iframe src="http://chat.tangchanglin.com/chat.php" width="350" height="550" ></iframe>
			<div class="content-right">
				<h3 >基于WebSocket进行实时通信的经典应用场景</h3>
				<p >目前已经实现以下功能：</p>
				<ul >
					<li>文字消息</li>
					<li>表情符号</li>
					<li>语音消息</li>
					<li>图片消息</li>
					<li>地理位置</li>
					<li>浏览器全屏</li>
					<li>.........</li>
				</ul>
				<p class="dd">最佳体验环境：Android + Firefox(或Chrome)</p>
				<p >
					<a href="javascript:;" ref="css/images/chat-qr-firefox.png" target="_blank"><img alt="" src="css/images/chat-qr-firefox.png" ></a> <a href="javascript:;" ref="css/images/chat-qr-chrome.png" target="_blank"><img alt="" src="css/images/chat-qr-chrome.png" ></a> <a href="javascript:;" ref="css/images/chat-qr-room.png" target="_blank"><img alt="" src="css/images/chat-qr-room.png" ></a>
					<br/>http://chat.tangchanglin.com/chat.php
				</p>
			</div>
			<div id="qr-layer" >

			</div>
			<div id="qr-wrap" ><img alt="" src="css/images/chat-qr-firefox.png" ></div>
		</div>
		<div class="step slide chat chat-3">
			<h2>即时聊天室</h2>
			<div class="content">
				<p >主要涉及HTML5特性</p>
				<ul >
					<li>通信：WebSocket</li>
					<li>录音：getUserMedia('audio') + &lt;audio&gt;</li>
					<li>拍照：getUserMedia('video') + &lt;video&gt; + &lt;canvas&gt; </li>
					<li>位置：geolocation</li>
					<li>全屏：requestFullscreen</li>
				</ul>
				<p ><img alt="" src="css/images/chat-screen-text.png" ><img alt="" src="css/images/chat-screen-voice.png" ><img alt="" src="css/images/chat-screen-capture.png" ><img alt="" src="css/images/chat-screen-location.png" ><img alt="" src="css/images/chat-screen-user.png" ></p>
			</div>
		</div>
	    <div class="step slide">
	        <h2>H5能力扩展 - 微信JS-SDK</h2>
	        <h3>1、分享接口</h3>
	        <h3>2、图像接口</h3>
	        <h3>3、音频接口</h3>
	        <h3>4、智能接口</h3>
	        <h3>5、设备信息</h3>
	        <h3>6、地理位置</h3>
	        <h3>7、界面操作</h3>
	        <h3>8、微信扫一扫</h3>
	        <h3>9、微信小店</h3>
	        <h3>10、微信卡卷</h3>
	        <h3>11、微信支付</h3>
	        <img src="css/images/wx.png" alt="" class="wx-img">
	    </div>
	    <div class="step slide">
	        <h2>H5给设计师带来的改变</h2>
	        <div class="center">
		        <img src="css/images/media.jpg" alt="">
		        <img src="css/images/media2.jpg" alt="">
	        </div>	
	    </div>
	    <div class="step slide">
	        <h2>未来</h2>
	        <div class="center">
	        	<img src="css/images/html5-native1.jpg" alt="">
	        	<i></i>
	        </div>
	    </div>
	</div>
	<script src="js/jquery.js"></script>
	<script src="js/impress.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/js/index.js"></script>
	<script>
		var page = $('#impress').children('.slide');
		var firstX = -1000;
		page.each(function(i,n){
			$(n).attr({
				'data-x': firstX + i * 1000,
				'data-y': '-1500'
			});;
		})
		impress().init();

		$('#reloadRocketFrame').click(function(){
			$('#rocketFrame').attr('src', $('#rocketFrame').attr('src'));
		});
		$('.chart').click(function(){
			$('#chartFrame').attr('src', $(this).data('href'));
		});

		$('.chat-1 .content-right a').click(function(){
			$('#qr-wrap img').attr('src',$(this).attr("ref"));
			$('#qr-wrap').fadeIn();
			$('#qr-layer').fadeIn();
		})
		$('#qr-layer').click(function(){
			$('#qr-wrap').fadeOut();
			$(this).fadeOut();
		})

		var hashQrPage = {
			'5': '/images/qr.png',
			'8' : 	'css/images/rocket.png',
			'10':'css/images/nianhui.png',
			'11' : 'css/images/yaoyouxi.png',
			'12' : 'css/images/feiji.png',
			'13' : 'css/images/guagua.png'
		};
		var btn = $('.qr-btn');
		$(window).on('hashchange',function(e){
			var page = location.hash.split('-')[1];
			if(hashQrPage[page]){
				btn.find('img').attr('src',hashQrPage[page]);
				btn.fadeIn();
			}else{
				if(btn.is('.open-qr')){
					hideQr();
				}
				btn.fadeOut();
			}
		});

		btn.on('click',function(){
			if(btn.is('.open-qr')){
				hideQr();
			}else{
				showQr();
			}
		});

		function showQr(){
			var page = location.hash.split('-')[1];
			var w = $(window),
					ww = w.width(),
					wh = w.height(),
					bw = 520,
					bh = 520;
			if(hashQrPage[page]){
				btn.addClass('open-qr');
				btn.css({
					left: (ww - bw) / 2,
					top: (wh - bh) / 2
				});
			}
		}

		function hideQr(){
			btn.removeClass('open-qr').removeAttr('style').css({
				display: 'block'
			});
		}

		var socket = io();
		//events
		socket.on('showQr',function(data){
			showQr();
		});

		socket.on('hideQr',function(data){
			hideQr();
		});

		socket.on('slide control',function(data){

			impress()[data.cmd].call()
			impress()[data.cmd].call();
		});
	</script>
</body>
</html>